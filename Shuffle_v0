desc:ProjectTerror (smartin)
//tags: secret random
//author: smartin


slider1:gain_db=0<-150,12,1>gain (dB)

slider2:interval=240<10,600,10>average shuffle interval (s)
slider3:mood_s=2<0,4,1{slow,chill,normal,hyper,frenetic}>hype level?
slider4:delta=0.2<0,1,0.001>P(delta)


in_pin:left input
in_pin:right input
out_pin:through
out_pin:through

@init
// globals
global_timer_root = time();
total_elapsed_time = 0;
block_start_time = global_timer_root;
timer_0_start = global_timer_root;
timer_0_init = 1;
timer_0 = 0;


function updateTimer1(asof)
// send me the time you want me to evaluate this as of
// 
(
  (
    asof == 0;
  ) ? (
    asof = time();
  );
  //asof - timer_0_start >= timer_0 && timer_0_init ? 
  
);


function random0(scale)
(
  //rand(x) -- returns a psuedorandom number between 0 and the parameter.
  //https://www.reaper.fm/sdk/js/basiccode.php#js_basicfunc
  // random0 is just a member of the uniform distribution from 0 to [scale]
  rand(scale);
  // pretty uninteresting, right?
);


//
mood_exp = 2 - mood_s;
mood = 2^mood_exp;
//mu = interval;

@slider
mood_exp = 2-mood_s;
mood = 2^mood_exp;


@block
block_start_time=time();
total_elapsed_time=block_start_time-global_timer_root;


d_gain = (next_gain - last_gain)/samplesblock;

@sample

